#!/usr/bin/expect -f
#


package require cmdline

set options {
        {t.arg 1 "Expect timeout [s]"}
        {w.arg 500 "Crossterm poll wait time [ms]"}
}
set usage ": prog \[options]"
array set params [::cmdline::getoptions argv $options $usage]

set pwt $params(w)
set timeout $params(t)

spawn ../target/debug/termal --poll-wait-time $pwt -w 25 -t 40 data/test-aln-05.fas
match_max 100000
expect {
	expect -exact "\[?1049h\[1;1H\[J\[2;1H\[J\[3;1H\[J\[4;1H\[J\[5;1H\[J\[6;1H\[J\[7;1H\[J\[8;1H\[J\[9;1H\[J\[10;1H\[J\[11;1H\[J\[12;1H\[J\[13;1H\[J\[14;1H\[J\[15;1H\[J\[16;1H\[J\[17;1H\[J\[18;1H\[J\[19;1H\[J\[20;1H\[J\[21;1H\[J\[22;1H\[J\[23;1H\[J\[24;1H\[J\[25;1H\[J\[26;1H\[J\[27;1H\[J\[28;1H\[J\[29;1H\[J\[30;1H\[J\[31;1H\[J\[32;1H\[J\[33;1H\[J\[34;1H\[J\[35;1H\[J\[36;1H\[J\[37;1H\[J\[38;1H\[J\[39;1H\[J\[40;1H\[J\[1;1H\[38;5;15m‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îå data/te‚îê\[2;1H‚îÇJPNFFBMG_00975‚îÇ\[38;5;7m--------\[38;5;6m‚ñà\[3;1H\[38;5;15m‚îÇFMNIGCAI_01562‚îÇ\[38;5;7m--------\[38;5;6m‚ñà\[4;1H\[38;5;15m‚îÇJHNJIINN_00718‚îÇ\[38;5;7m--------\[38;5;6m‚ñà\[5;1H\[38;5;15m‚îÇBPCAMGGF_01341‚îÇ\[38;5;7m--------\[38;5;6m‚ñà\[6;1H\[38;5;15m‚îÇEINLENDL_00199‚îÇ\[38;5;7m--------\[38;5;6m‚ñà\[7;1H\[38;5;15m‚îÇLEACOLDL_00094‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[8;1H‚îÇJIFGGMGC_00515‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[9;1H‚îÇPGMANCIO_01061‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[10;1H‚îÇGPHAMGHC_01723‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[11;1H‚îÇLHPAICNH_01638‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[12;1H‚îÇHGHCDADN_01828‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[13;1H‚îÇNDKPGHOA_00848‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[14;1H‚îÇFGDGKIFP_01766‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[15;1H‚îÇMODHFIIH_01560‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[16;1H‚îÇFIAOOHFG_00839‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[17;1H‚îÇLCKICBJP_00132‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[18;1H‚îÇDCDHNMCP_00664‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[19;1H‚îÇKCHCLCAP_00981‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[20;1H‚îÇHCCLKPDO_01769‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[21;1H‚îÇGMLGPEOL_01693‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[22;1H‚îÇNGHDOLJN_01895‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[23;1H‚îÇFMNGEOKO_01111‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[24;1H‚îÇKLIKOGBN_01027‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[25;1H‚îÇNBPBBOKD_00111‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[26;1H‚îÇNBPBBOKD_00554‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[27;1H‚îÇGIOLJIEL_01671‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[28;1H‚îÇJFBDNEAF_00473‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[29;1H‚îÇHJPOCLOA_01743‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[30;1H‚îÇHBDHIFBD_02555‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[31;1H‚îÇGPDAHGED_00895‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[32;1H‚îÇADDAOGDK_00251‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[33;1H‚îÇKMGNJJLM_01854‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[34;1H‚îÇIGAIDFEL_00293‚îÇ\[38;5;7m--------\[38;5;15m‚ïë\[35;1H‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îî\[38;5;6mü¨π\[38;5;15m‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚îò\[36;1H\[39m‚îÇConsensus\[36;16H‚îÇ\[38;5;7m--------\[39m‚îÇ\[37;1H‚îÇConservation\[37;16H‚îÇ\[38;2;250;128;114m        \[39m‚îÇ\[38;1H‚îÇ\[38;16H‚îÇ|\[38;25H‚îÇ\[39;1H‚îÇPosition\[39;16H‚îÇ0\[39;25H‚îÇ\[40;1H‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "Z"
expect {
	expect -exact "\[2;17H\[38;5;15m‚ïø\[2;23H  ‚îÇ\[3;2HPGMAN\[3;8HIO\[3;13H0\[3;15H1\[3;17H‚îÇ\[3;19H\[38;5;5mQ\[3;22H\[38;2;255;165;0mT\[38;5;15m  ‚îÇ\[4;2HFIAOOHFG\[4;13H839\[4;17H‚îÇ\[4;19H\[38;5;5mQ\[4;23H\[38;5;15m  ‚îÇ\[5;2HFMNGEOKO\[5;13H11\[5;17H‚îÇ\[5;19H\[38;5;5mQ\[5;22HQ\[38;5;15m  ‚îÇ\[6;2HHBDHIFBD\[6;12H2555\[6;17H‚ïΩ\[6;19H\[38;5;4mK\[6;22HK\[38;5;15m  ‚îÇ\[7;2HOOMDPHOG\[7;12H1\[7;14H2\[7;19H\[38;2;255;165;0mS\[7;23H\[38;5;15m  ‚îÇ\[8;2HMJGAOCBJ\[8;13H877\[8;19H\[38;2;255;165;0mT\[8;23H\[38;5;15m  ‚îÇ\[9;2HNDNFAFHA\[9;12H0880\[9;22H\[38;5;2mV\[38;5;15m  ‚îÇ\[10;2HDJNKGE\[10;9HM\[10;14H11\[10;22H\[38;2;255;165;0mS\[38;5;15m  ‚îÇ\[11;2HHLNMKO\[11;9HP\[11;12H02\[11;15H6\[11;23H  ‚îÇ\[12;2HPFNPOCIF\[12;12H0592\[12;23H  ‚îÇ\[13;2HJHGMIBHM\[13;12H1066\[13;22H\[38;2;255;165;0mA\[38;5;15m  ‚îÇ\[14;2HOMJIOHJL\[14;12H0912\[14;22H\[38;2;255;165;0mA\[38;5;15m  ‚îÇ\[15;2HPLCMNGN\[15;12H2076\[15;23H  ‚îÇ\[16;4HFGAM\[16;9HA\[16;12H2261\[16;22H\[38;2;255;165;0mS\[38;5;15m  ‚îÇ\[17;2HBGHF\[17;7HMBJ\[17;13H384\[17;22H\[38;5;5mN\[38;5;15m  ‚îÇ\[18;2HMIMDEFIM\[18;12H2781\[18;22H\[38;5;2mC\[38;5;15m  ‚îÇ\[19;3HLIAENJF\[19;12H1077\[19;19H\[38;2;255;165;0mS\[19;23H\[38;5;15m  ‚îÇ\[20;2HGHIDOJOE\[20;12H0916\[20;22H\[38;5;2mI\[38;5;15m  ‚îÇ\[21;2HO\[21;4HNI|NT\[21;10H03EC32\[21;23H  ‚îÇ\[22;2Htr|B2T9D2|B2T9\[22;19H\[38;5;1mD\[22;22H\[38;5;2mP\[38;5;15m  ‚îÇ\[23;2Htr|D4C5Q1|D4C5\[23;19H\[38;5;5mQ\[23;22HQ\[38;5;15m  ‚îÇ\[24;2HAHM\[24;6HMHDK\[24;13H201\[24;23H  ‚îÇ\[25;2HCEFNME\[25;9HK\[25;12H1320\[25;19H\[38;2;255;165;0mS\[25;22H\[38;5;1mE\[38;5;15m  ‚îÇ\[26;2HCEFNME\[26;9HK\[26;12H4385\[26;19H\[38;5;5mN\[26;22H\[38;2;255;165;0mT\[38;5;15m  ‚îÇ\[27;2HBNIANBDI\[27;12H0902\[27;23H  ‚îÇ\[28;2HCKNHMCOD\[28;13H282\[28;23H  ‚îÇ\[29;2HILBLGBHP\[29;13H016\[29;19H\[38;5;2mV\[29;23H\[38;5;15m  ‚îÇ\[30;2HIAGGDKJC\[30;12H1933\[30;22H\[38;5;5mQ\[38;5;15m  ‚îÇ\[31;2HFHLODND\[31;12H2254\[31;19H\[38;5;2mP\[31;22H\[38;5;5mQ\[38;5;15m  ‚îÇ\[32;2HHJACHOPP\[32;13H6\[32;19H\[38;2;255;165;0mG\[32;22H\[38;5;1mE\[38;5;15m  ‚îÇ\[33;3HFJFDHAO\[33;12H0293\[33;23H  ‚îÇ\[34;2HKFJF\[34;7HHAO\[34;12H3\[34;14H1\[34;19H\[38;2;255;165;0mA\[34;23H\[38;5;15m  ‚îÇ\[35;17H‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "l"
expect {
	expect -exact "\[2;17H\[38;5;7m-\[38;5;15m‚ïø\[3;17H\[38;5;7m-\[38;5;15m‚îÇ\[4;17H\[38;5;7m-\[38;5;15m‚îÇ\[5;17H\[38;5;7m-\[38;5;15m‚îÇ\[6;17H\[38;5;7m-\[38;5;15m‚ïΩ\[36;24H\[38;5;2mM\[37;24H\[38;2;250;128;114m‚ñà\[38;17H\[39m \[38;22H|\[39;17H \[39;21H10\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "L"
expect {
	expect -exact "\[2;18H\[38;5;7m-\[38;5;15m‚ïø\[3;18H\[38;5;7m-\[38;5;15m‚îÇ\[4;18H\[38;5;7m-\[38;5;15m‚îÇ\[5;18H\[38;5;7m-\[38;5;15m‚îÇ\[6;18H\[38;5;7m-\[38;5;15m‚ïΩ\[36;17H\[38;2;255;165;0mstt\[36;24H\[38;5;7m-\[37;17H\[38;2;250;128;114m‚ñÅ\[37;19H‚ñÅ\[37;24H \[38;22H\[39m \[38;24H|\[39;21H  20\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "\$"
expect {
	expect -exact "\[2;19H\[38;5;7m-\[2;22H\[38;5;15m‚ïø\[3;19H\[38;5;5mQ\[3;22H\[38;5;15m‚îÇ\[4;19H\[38;5;5mQ\[4;22H\[38;5;15m‚îÇ\[5;19H\[38;5;5mQ\[5;22H\[38;5;15m‚îÇ\[6;19H\[38;5;4mK\[6;22H\[38;5;15m‚ïΩ\[36;17H\[38;5;7m---\[37;17H\[38;2;250;128;114m \[37;19H \[37;23H‚ñÅ\[39;23H\[39m4\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "j"
expect {
	expect -exact "\[2;22H\[38;5;7m-\[3;22H\[38;5;15m‚ïø\[6;22H‚îÇ\[7;22H‚ïΩ\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "J"
expect {
	expect -exact "\[3;22H\[38;2;255;165;0mT\[4;22H\[38;5;7m-\[5;22H\[38;5;5mQ\[6;22H\[38;5;4mK\[7;22H\[38;5;7m-\[8;22H\[38;5;15m‚ïø\[9;22H‚îÇ\[10;22H‚îÇ\[11;22H‚îÇ\[12;22H‚ïΩ\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "G"
expect {
	expect -exact "\[8;22H\[38;5;7m-\[9;22H\[38;5;2mV\[10;22H\[38;2;255;165;0mS\[11;22H\[38;5;7m-\[12;22H-\[30;22H\[38;5;15m‚ïø\[31;22H‚îÇ\[32;22H‚îÇ\[33;22H‚îÇ\[34;22H‚ïΩ\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "h"
expect {
	expect -exact "\[30;21H\[38;5;15m‚ïø\[38;5;5mQ\[31;21H\[38;5;15m‚îÇ\[38;5;5mQ\[32;21H\[38;5;15m‚îÇ\[38;5;1mE\[33;21H\[38;5;15m‚îÇ\[38;5;7m-\[34;21H\[38;5;15m‚ïΩ\[38;5;7m-\[37;23H\[38;2;250;128;114m \[38;19H\[39m|\[38;24H \[39;18H30\[39;23H  \[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "H"
expect {
	expect -exact "\[30;20H\[38;5;15m‚ïø\[38;5;7m-\[31;20H\[38;5;15m‚îÇ\[38;5;7m-\[32;20H\[38;5;15m‚îÇ\[38;5;7m-\[33;20H\[38;5;15m‚îÇ\[38;5;7m-\[34;20H\[38;5;15m‚ïΩ\[38;5;7m-\[38;17H\[39m|\[38;19H \[39;17H0  \[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "^"
expect {
	expect -exact "\[30;17H\[38;5;15m‚ïø\[30;20H\[38;5;7m-\[31;17H\[38;5;15m‚îÇ\[31;20H\[38;5;7m-\[32;17H\[38;5;15m‚îÇ\[32;20H\[38;5;7m-\[33;17H\[38;5;15m‚îÇ\[33;20H\[38;5;7m-\[34;17H\[38;5;15m‚ïΩ\[34;20H\[38;5;7m-\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "k"
expect {
	expect -exact "\[29;17H\[38;5;15m‚ïø\[30;17H‚îÇ\[33;17H‚ïΩ\[34;17H\[38;5;7m-\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "K"
expect {
	expect -exact "\[24;17H\[38;5;15m‚ïø\[25;17H‚îÇ\[26;17H‚îÇ\[27;17H‚îÇ\[28;17H‚ïΩ\[29;17H\[38;5;7m-\[30;17H-\[31;17H-\[32;17H-\[33;17H-\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "g"
expect {
	expect -exact "\[2;17H\[38;5;15m‚ïø\[3;17H‚îÇ\[4;17H‚îÇ\[5;17H‚îÇ\[6;17H‚ïΩ\[24;17H\[38;5;7m-\[25;17H-\[26;17H-\[27;17H-\[28;17H-\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l\[39m\[49m\[59m\[0m\[?25l" {} 
	default { exit 1 }
}
send -- "q"
expect eof

# Gets the exit code of the spawned process, so that this script fails IFF it 
# did. 
catch wait result 
set prog_exit_code [lindex $result 3] 
exit $prog_exit_code
